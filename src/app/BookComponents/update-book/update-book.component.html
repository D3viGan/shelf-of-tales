<div class="update-book-container">
  <h2>Update Book Information</h2>

  <div *ngIf="message" class="alert" [ngClass]="{'alert-success': message.includes('sucesso'), 'alert-error': message.includes('Erro')}">
    {{ message }}
  </div>

  <form [formGroup]="bookForm" (ngSubmit)="updateBook()">

    <div class="form-group">
      <label for="isbn">isbn</label>
      <input
        id="isbn"
        type="text"
        formControlName="isbn"
        class="form-control"
        [ngClass]="{'is-invalid': bookForm.get('isbn')?.invalid && bookForm.get('isbn')?.touched}"
      />
      <div *ngIf="bookForm.get('isbn')?.invalid && bookForm.get('isbn')?.touched" class="invalid-feedback">
        ISBN is required.
      </div>
    </div>
    
    <div class="form-group">
      <label for="title">Title</label>
      <input
        id="title"
        type="text"
        formControlName="title"
        class="form-control"
        [ngClass]="{'is-invalid': bookForm.get('title')?.invalid && bookForm.get('title')?.touched}"
      />
      <div *ngIf="bookForm.get('title')?.invalid && bookForm.get('title')?.touched" class="invalid-feedback">
        Title is required.
      </div>
    </div>

    <div class="form-group">
      <label for="author">Author(s)</label>
      <input
        id="author"
        type="text"
        formControlName="author"
        class="form-control"
        [ngClass]="{'is-invalid': bookForm.get('author')?.invalid && bookForm.get('author')?.touched}"
      />
      <div *ngIf="bookForm.get('author')?.invalid && bookForm.get('author')?.touched" class="invalid-feedback">
        Author is required.
      </div>
    </div>

    <div class="form-group">
      <label for="category">Category</label>
      <input
        id="category"
        type="text"
        formControlName="category"
        class="form-control"
        [ngClass]="{'is-invalid': bookForm.get('category')?.invalid && bookForm.get('category')?.touched}"
      />
      <div *ngIf="bookForm.get('category')?.invalid && bookForm.get('category')?.touched" class="invalid-feedback">
        Category is required.
      </div>
    </div>

    <div class="form-group">
      <label for="price">Price</label>
      <input
        id="price"
        type="number"
        formControlName="price"
        class="form-control"
        [ngClass]="{'is-invalid': bookForm.get('price')?.invalid && bookForm.get('price')?.touched}"
      />
      <div *ngIf="bookForm.get('price')?.invalid && bookForm.get('price')?.touched" class="invalid-feedback">
        Price is required and must be a positive value.
      </div>
    </div>

    <div class="form-group">
      <label for="cover">Cover URL</label>
      <input
        id="cover"
        type="text"
        formControlName="cover"
        class="form-control"
        [ngClass]="{'is-invalid': bookForm.get('cover')?.invalid && bookForm.get('cover')?.touched}"
      />
      <div *ngIf="bookForm.get('cover')?.invalid && bookForm.get('cover')?.touched" class="invalid-feedback">
        Cover is required.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="bookForm.invalid || isSubmitting">Update Book</button>
  </form>
</div>